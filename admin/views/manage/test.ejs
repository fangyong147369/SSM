<HTML>
<HEAD>
    <style>
        .TreeNode{
            margin-left: 20px;
        }
    </style>
<BODY>
        <PRE>
            <DIV id=Tc></DIV> </PRE>
        <SCRIPT>
            function htmlToText()
            {
                ho=document.getElementById('TreeView');
                to=document.getElementById('TreeView_text');
                to.value=ho.innerHTML;
            }
            var rows = new Object;
            var rowsPidIndex = new Object;
            rows={
                '1' : {'id':'1', 'pid':'0', 'title':'权限管理' },
                '2' : {'id':'2', 'pid':'0', 'title':'系统用户管理' },
                '3' : {'id':'3', 'pid':'1', 'title':'权限菜单1' },
                '4' : {'id':'4', 'pid':'2', 'title':'系统用户1' },
                '5' : {'id':'5', 'pid':'2', 'title':'系统用户2' }
            };
            rowsPidIndex[0] = new Array('1','2') ;
            rowsPidIndex[1] = new Array('3') ;
            rowsPidIndex[2] = new Array('4','5') ;

        </SCRIPT>
        <script src="/js/jquery-1.10.1.min.js" type="text/javascript"></script>
        <SCRIPT language=javascript src="/treecheckbox/treeCheckBox.0.2.js" type=text/javascript></SCRIPT>
        <SCRIPT>
            var ctree = new  treeCheckBox( 'ctree'  , rows , rowsPidIndex );
            ctree.iconPath='/treecheckbox/image/';
            ctree.useCheckBox=true;
            ctree.checkBoxName='menu[]';
            ctree.checkBoxChecked='';
            ctree.toString( Tc );


            var arr = [];
            $.each($('.TreeNode input[type="checkbox"]'), function (i, item) {
                if ($(item).is(':checked'))
                    arr.push($(item).val())
            })
            console.log(arr);
        </SCRIPT>

</BODY>
</HTML>
